<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SnapInk™ — Branding on Lock.</title>
  <meta name="description" content="SnapInk™: the world’s first strap-branded snapback. Premium 5-panel hats + interchangeable strap sleeves. Branding on Lock." />
  <meta property="og:title" content="SnapInk™ — Branding on Lock." />
  <meta property="og:description" content="The world’s first strap-branded snapback. Premium 5-panel hats + interchangeable strap sleeves. Join the waitlist." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/og.jpg" />
  <meta name="theme-color" content="#0a0a0a" />
    <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="32x32" 
        href="https://imagedelivery.net/fYqzQPf1CS3qAF1vZpfSLw/612f51ba-49f8-41cc-3eb8-e6dafea52b00/public">
  <link rel="icon" type="image/png" sizes="16x16" 
        href="https://imagedelivery.net/fYqzQPf1CS3qAF1vZpfSLw/612f51ba-49f8-41cc-3eb8-e6dafea52b00/public">
  <link rel="apple-touch-icon" 
        href="https://imagedelivery.net/fYqzQPf1CS3qAF1vZpfSLw/612f51ba-49f8-41cc-3eb8-e6dafea52b00/public">

  <meta name="msapplication-TileColor" content="#0a0a0a">
  <meta name="msapplication-TileImage" content="https://imagedelivery.net/fYqzQPf1CS3qAF1vZpfSLw/0a0dc63a-baf1-4513-bc95-bfe88daa5800/public">

  <!-- Perf hints for Cloudflare Images -->
  <link rel="preconnect" href="https://imagedelivery.net" />
  <link rel="dns-prefetch" href="https://imagedelivery.net" />
  <link rel="manifest" href="/site.webmanifest" />

  <!-- Tailwind built CSS -->
  <link rel="stylesheet" href="style.css">



  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">



  <style>
    :root{
      --pink:#ec4899; /* tailwind pink-500 */
      --glow:0 0 0 0 rgba(236,72,153,.0);
    }
    html{scroll-behavior:smooth}
    body{font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol', sans-serif}

    /* Subtle grid texture */
    .grid-bg{background-image:linear-gradient(rgba(255,255,255,0.04) 1px, transparent 1px),linear-gradient(90deg, rgba(255,255,255,0.04) 1px, transparent 1px);background-size:24px 24px}

    /* Stickers */
    .sticker{transform:rotate(-6deg); box-shadow:0 12px 40px rgba(0,0,0,.35)}

    /* Marquee */
    .marquee{ --gap: 48px; display:flex; gap:var(--gap); overflow:hidden; mask:linear-gradient(90deg,transparent,black 10%,black 90%,transparent)}
    .marquee__track{ display:flex; gap:var(--gap); animation:scroll 22s linear infinite }
    @keyframes scroll{ from { transform:translateX(0)} to {transform:translateX(calc(-50% - var(--gap)/2))} }

    /* Carousel */
    .carousel-viewport{scroll-snap-type:x mandatory; -webkit-overflow-scrolling:touch}
    .carousel-viewport > div{scroll-snap-align:start}

    /* Floating glow pulse */
    .pulse-glow{ box-shadow:0 0 0 0 rgba(236,72,153, .6); animation: pulse 2.2s infinite }
    @keyframes pulse{ 0%{box-shadow:0 0 0 0 rgba(236,72,153,.55)} 70%{box-shadow:0 0 0 16px rgba(236,72,153,0)} 100%{box-shadow:0 0 0 0 rgba(236,72,153,0)} }

    /* Accordion caret */
    details[open] summary .caret{ transform:rotate(180deg) }

    /* Noise overlay */
    .noise:before{ content:""; position:absolute; inset:0; background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQIW2P4z/CfBwADHwGf8eYgTQAAAABJRU5ErkJggg=='); opacity:.06; pointer-events:none }

    /* Button shine */
    .shine{ position:relative; overflow:hidden }
    .shine:after{ content:""; position:absolute; inset:-100% -30%; background:linear-gradient(120deg, transparent 20%, rgba(255,255,255,.22), transparent 80%); transform:translateX(-100%); }
    .shine:hover:after{ transition: transform .7s ease; transform:translateX(100%) }

    /* Card hover */
    .card{ transition:transform .2s ease, box-shadow .2s ease}
    .card:hover{ transform:translateY(-4px); box-shadow:0 10px 30px rgba(0,0,0,.35)}

    /* Sticky CTA bar */
    .sticky-cta{ backdrop-filter:saturate(120%) blur(8px) }

    /* Hide scrollbar for carousels */
    .no-scrollbar::-webkit-scrollbar{ display:none }
    .no-scrollbar{ -ms-overflow-style:none; scrollbar-width:none }
  </style>
</head>
<body class="bg-neutral-950 text-neutral-100 antialiased selection:bg-pink-500/30 selection:text-white">
  <!-- Announcement bar / promos -->
  <div class="marquee bg-black/60 border-b border-neutral-800 text-xs py-2 text-neutral-300">
    <div class="marquee__track whitespace-nowrap">
      <span class="flex items-center gap-2"><span class="px-2 py-0.5 rounded bg-pink-600 text-white">NEW</span> Strap-branded snapbacks are here. Branding on Lock.</span>
      <span class="flex items-center gap-2"><span class="px-2 py-0.5 rounded bg-neutral-800">Drop 001</span> Early access for waitlist only</span>
      <span class="flex items-center gap-2"><span class="px-2 py-0.5 rounded bg-neutral-800">Patent Pending</span> SnapInk™ strap sleeve system</span>
      <span class="flex items-center gap-2"><span class="px-2 py-0.5 rounded bg-neutral-800">Creator Collabs</span> Your logo on the strap</span>
      <!-- clone for smooth loop -->
      <span class="flex items-center gap-2"><span class="px-2 py-0.5 rounded bg-pink-600 text-white">NEW</span> Strap-branded snapbacks are here. Branding on Lock.</span>
      <span class="flex items-center gap-2"><span class="px-2 py-0.5 rounded bg-neutral-800">Drop 001</span> Early access for waitlist only</span>
      <span class="flex items-center gap-2"><span class="px-2 py-0.5 rounded bg-neutral-800">Patent Pending</span> SnapInk™ strap sleeve system</span>
      <span class="flex items-center gap-2"><span class="px-2 py-0.5 rounded bg-neutral-800">Creator Collabs</span> Your logo on the strap</span>
    </div>
  </div>

<!-- Header -->
<header class="sticky top-0 z-50 bg-neutral-950/70 backdrop-blur border-b border-neutral-800">
  <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">

    <!-- Left: Logo -->
    <a href="/" class="flex items-center group flex-shrink-0">
      <img
        src="https://imagedelivery.net/fYqzQPf1CS3qAF1vZpfSLw/5afcae7b-e96a-4465-ebbc-a7e7d6831000/public"
        alt="SnapInk Logo"
        class="h-8 w-auto group-hover:scale-110 transition" />
    </a>

<!-- In your centered desktop nav -->
<nav class="hidden md:flex items-center gap-6 text-sm text-neutral-300 flex-1 justify-center">
  <a href="#shop" class="hover:text-white">Shop</a>
  <a href="#how" class="hover:text-white">How it works</a>
  <a href="#reviews" class="hover:text-white">Reviews</a>
  <a href="#faq" class="hover:text-white">FAQ</a>

  <!-- Fit Guide trigger -->
  <button id="fitGuideBtn" type="button" class="hover:text-white underline underline-offset-4">
    Fit Guide
  </button>

  <a href="/customize.html" class="hover:text-white">Customize</a>
  <a href="#waitlist" class="px-3 py-1.5 rounded-full bg-pink-600 hover:bg-pink-500 text-white shine">Join Waitlist</a>
  <button id="checkoutLink" class="hidden lg:inline-flex px-3 py-1.5 rounded-lg bg-neutral-800 hover:bg-neutral-700 text-neutral-200" aria-label="Checkout">
    Checkout
  </button>
</nav>

<!-- Right: Mobile menu + Cart -->
<div class="flex items-center gap-2 flex-shrink-0">
  <!-- Mobile menu toggle -->
  <button id="menuBtn"
          class="md:hidden p-2 rounded-lg hover:bg-neutral-800"
          aria-label="Open menu" aria-expanded="false">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none"
         viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
            d="M3.75 6.75h16.5M3.75 12h16.5M3.75 17.25h16.5"/>
    </svg>
  </button>

  <!-- Cart with mini-cart preview -->
  <div class="relative" id="cartArea">
    <button id="cartBtn" aria-label="Open cart" class="relative p-2 rounded-lg hover:bg-neutral-800">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none"
           viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
              d="M2.25 3h1.386a1.5 1.5 0 0 1 1.463 1.2l.257 1.542M7.5 14.25h9.75a1.5 1.5 0 0 0 1.477-1.222l1.125-6.75A1.5 1.5 0 0 0 18.375 4.5H5.356M7.5 21a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm9.75 0a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"/>
      </svg>
      <span id="cartCount"
            class="absolute -top-1 -right-1 text-[10px] bg-pink-600 text-white rounded-full min-w-[18px] h-[18px] grid place-items-center">0</span>
    </button>

    <!-- Mini-cart popover -->
    <div id="miniCart"
         class="absolute right-0 mt-2 w-[320px] origin-top-right scale-95 opacity-0 pointer-events-none
                transition-all duration-150 bg-neutral-950 border border-neutral-800 rounded-xl shadow-2xl
                overflow-hidden z-50">
      <div class="p-3 border-b border-neutral-800">
        <div class="flex items-center justify-between">
          <div class="text-sm text-neutral-400">Cart</div>
          <div class="text-xs px-2 py-0.5 rounded bg-neutral-800">
            <span id="miniCount">0</span> item<span id="miniCountPlural">s</span>
          </div>
        </div>
      </div>
      <div id="miniItems" class="max-h-[300px] overflow-auto divide-y divide-neutral-800"></div>
      <div class="p-3 space-y-3">
        <div class="flex items-center justify-between text-sm">
          <span class="text-neutral-400">Subtotal</span>
          <span id="miniSubtotal" class="font-semibold">$0.00</span>
        </div>
        <div class="grid grid-cols-2 gap-2">
          <button id="miniViewCart" class="px-3 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700 text-sm">View cart</button>
          <button id="miniCheckout" class="px-3 py-2 rounded-lg bg-pink-600 hover:bg-pink-500 text-white text-sm">Checkout</button>
        </div>
        <p class="text-[11px] text-neutral-500">Taxes and shipping calculated at checkout.</p>
      </div>
    </div>
  </div>
</div>
</header>


<!-- Mobile menu scrim + drawer -->
<div id="mobileScrim" class="fixed inset-0 bg-black/60 opacity-0 pointer-events-none transition-opacity z-[60]"></div>

<aside id="mobileNav"
       class="fixed top-0 left-0 h-full w-[84vw] max-w-[360px] translate-x-[-100%] transition-transform duration-300 z-[70]
              bg-neutral-950 border-r border-neutral-800 flex flex-col">
  <div class="p-4 border-b border-neutral-800 flex items-center justify-between">
    <div class="flex items-center gap-2">
      <span class="inline-flex h-8 w-8 items-center justify-center rounded-lg bg-pink-600 text-white font-black">S</span>
      <span class="font-black tracking-widest">SNAPINK<span class="align-super text-[0.6em]">™</span></span>
    </div>
    <button id="mobileClose" class="p-2 rounded-lg hover:bg-neutral-800" aria-label="Close menu">✕</button>
  </div>

  <nav class="p-3 text-neutral-200 text-base">
    <a href="#shop" class="block px-3 py-2 rounded-lg hover:bg-neutral-800">Shop</a>
    <a href="#how" class="block px-3 py-2 rounded-lg hover:bg-neutral-800">How it works</a>
    <a href="#reviews" class="block px-3 py-2 rounded-lg hover:bg-neutral-800">Reviews</a>
    <a href="#faq" class="block px-3 py-2 rounded-lg hover:bg-neutral-800">FAQ</a>
    <a href="/customize.html" class="block px-3 py-2 rounded-lg hover:bg-neutral-800">Customize</a>

    <a href="#waitlist" class="block px-3 py-2 mt-2 rounded-lg bg-pink-600 hover:bg-pink-500 text-white">Join Waitlist</a>

    <div class="my-4 h-px bg-neutral-800"></div>

    <!-- Mobile checkout -->
    <button id="mobileCheckout" class="w-full px-3 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700 text-neutral-100 text-left">
      Checkout
    </button>
  </nav>

  <div class="mt-auto p-3 text-sm text-neutral-400 border-t border-neutral-800">
    <div class="flex items-center justify-between">
      <span>Cart items</span>
      <span id="mobileCartCount" class="inline-grid place-items-center min-w-[24px] h-[24px] px-1 rounded-full bg-pink-600 text-white text-xs">0</span>
    </div>
  </div>
</aside>

  <!-- HERO -->
  <section class="relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-br from-neutral-900 via-neutral-950 to-black"></div>
    <div class="absolute inset-0 grid-bg"></div>
    <div class="relative max-w-7xl mx-auto px-4 py-16 md:py-24">
      <div class="grid md:grid-cols-2 gap-10 items-center">
        <div class="space-y-6">
          <div class="inline-flex items-center gap-2 text-xs text-neutral-300 bg-neutral-900/60 border border-neutral-800 rounded-full px-3 py-1">
            <span class="i">⚡</span> Strap-branded snapbacks
            <span class="h-3 w-px bg-neutral-700 mx-1"></span>
            <span class="i">🧪</span> Patent pending sleeves
          </div>
          <h1 class="text-4xl md:text-6xl font-black leading-tight tracking-tight">Branding on <span class="text-pink-500">Lock</span>.</h1>
          <p class="text-neutral-300 text-lg md:text-xl max-w-prose">SnapInk<span class="align-super text-[.6em]">™</span> makes the strap the stage — with interchangeable (slide on-slide off) print-ready <span class="font-semibold text-white">strap sleeves</span> that cover traditional snaps for a smooth, premium look.</p>
          <div class="flex flex-col sm:flex-row gap-3">
            <a href="#shop" class="inline-flex items-center justify-center px-5 py-3 rounded-xl bg-pink-600 hover:bg-pink-500 text-white font-semibold shine">Shop the drop</a>
            <a href="#how" class="inline-flex items-center justify-center px-5 py-3 rounded-xl bg-neutral-800 hover:bg-neutral-700">How it works</a>
          </div>
          <div class="flex items-center gap-6 pt-2 text-sm text-neutral-400">
            <span>Free US shipping $75+</span>
            <span class="h-3 w-px bg-neutral-700"></span>
            <span>30‑day returns</span>
          </div>
        </div>
        <!-- Collage -->
        <div class="relative">
          <div class="relative aspect-[4/3] rounded-3xl bg-neutral-900/60 border border-neutral-800 shadow-2xl overflow-hidden">
           <img 
  src="https://imagedelivery.net/fYqzQPf1CS3qAF1vZpfSLw/47b6b314-5a30-442a-2aac-60aa04f25b00/public" 
  alt="SnapInk strap sleeve closeup" 
  class="absolute inset-0 w-full h-full object-cover opacity-70"/>
            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"></div>
            <div class="absolute bottom-5 left-5 right-5 flex items-center justify-between">
              <span class="text-sm text-neutral-300">Prototype • Strap Sleeve V1</span>
              <span class="px-2.5 py-1 rounded-md bg-pink-600/90 text-xs font-semibold">PATENT PENDING</span>
            </div>
          </div>
          <!-- Sticker -->
          <div class="sticker absolute -right-3 -bottom-6 bg-white text-neutral-900 px-6 py-3 rounded-full font-black text-lg shadow-xl select-none">SnapInk<span class="align-super text-[.6em]">™</span></div>
        </div>
      </div>

      <!-- Countdown (Drop 001) -->
      <div class="mt-12 grid sm:grid-cols-4 gap-4 text-center">
        <div class="bg-neutral-900/60 border border-neutral-800 rounded-2xl p-4"><div class="text-3xl font-extrabold" id="dd">00</div><div class="text-neutral-400 text-xs">DAYS</div></div>
        <div class="bg-neutral-900/60 border border-neutral-800 rounded-2xl p-4"><div class="text-3xl font-extrabold" id="hh">00</div><div class="text-neutral-400 text-xs">HOURS</div></div>
        <div class="bg-neutral-900/60 border border-neutral-800 rounded-2xl p-4"><div class="text-3xl font-extrabold" id="mm">00</div><div class="text-neutral-400 text-xs">MINUTES</div></div>
        <div class="bg-neutral-900/60 border border-neutral-800 rounded-2xl p-4"><div class="text-3xl font-extrabold" id="ss">00</div><div class="text-neutral-400 text-xs">SECONDS</div></div>
      </div>
    </div>
  </section>

 <!-- Social proof / vibe tags -->
<section class="py-10 border-y border-neutral-800 bg-neutral-950/60">
  <div class="max-w-7xl mx-auto px-4">
    <div class="flex flex-wrap justify-center gap-6">
      <span class="px-4 py-1.5 rounded-full border border-neutral-700 text-neutral-400 
                   hover:text-white hover:border-pink-500 hover:shadow-[0_0_15px_rgba(236,72,153,0.5)] 
                   transition">HYPE</span>

      <span class="px-4 py-1.5 rounded-full border border-neutral-700 text-neutral-400 
                   hover:text-white hover:border-pink-500 hover:shadow-[0_0_15px_rgba(236,72,153,0.5)] 
                   transition">CREATORS</span>

      <span class="px-4 py-1.5 rounded-full border border-neutral-700 text-neutral-400 
                   hover:text-white hover:border-pink-500 hover:shadow-[0_0_15px_rgba(236,72,153,0.5)] 
                   transition">URBAN</span>

      <span class="px-4 py-1.5 rounded-full border border-neutral-700 text-neutral-400 
                   hover:text-white hover:border-pink-500 hover:shadow-[0_0_15px_rgba(236,72,153,0.5)] 
                   transition">STYLE</span>

      <span class="px-4 py-1.5 rounded-full border border-neutral-700 text-neutral-400 
                   hover:text-white hover:border-pink-500 hover:shadow-[0_0_15px_rgba(236,72,153,0.5)] 
                   transition">STREET</span>

      <span class="px-4 py-1.5 rounded-full border border-neutral-700 text-neutral-400 
                   hover:text-white hover:border-pink-500 hover:shadow-[0_0_15px_rgba(236,72,153,0.5)] 
                   transition">PRESS</span>
    </div>
  </div>
</section>


  <!-- Coming Soon -->
  <section id="shop" class="py-16 md:py-24 bg-gradient-to-b from-neutral-950 to-black">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex items-end justify-between mb-6">
        <h2 class="text-3xl md:text-4xl font-black">Best Sellers</h2>
        <a href="#" class="text-sm text-pink-400 hover:text-pink-300">View all →</a>
      </div>

<!-- Horizontal product carousel -->
<div class="relative">
  <!-- Scrollable container -->
  <div id="carousel" class="carousel-viewport no-scrollbar flex gap-4 overflow-x-auto scroll-smooth pb-2">
    
    <!-- Product card 1 -->
    <div class="min-w-[280px] max-w-[280px] bg-neutral-900/60 border border-neutral-800 rounded-2xl card">
      <div class="relative aspect-square overflow-hidden rounded-t-2xl">
        <img src="https://imagedelivery.net/fYqzQPf1CS3qAF1vZpfSLw/452e348a-5aae-4c4a-47fe-f1a40e284000/public" 
             alt="SnapInk Blackout" 
             class="w-full h-full object-cover" 
             loading="lazy">
        <span class="absolute top-3 left-3 px-2 py-0.5 rounded bg-pink-600 text-[11px] font-bold">DROP 001</span>
      </div>
      <div class="p-4 space-y-3">
        <div class="flex items-center justify-between">
          <h3 class="font-semibold">Snapink OG</h3>
          <span class="text-sm text-neutral-300">$19.99</span>
        </div>
        <div class="flex items-center gap-2" aria-label="Colorways">
          <button class="h-5 w-5 rounded-full border border-neutral-700 aria-selected:ring-2 aria-selected:ring-pink-500" style="background:#111" aria-selected="true"></button>
          <button class="h-5 w-5 rounded-full border border-neutral-700" style="background:#e5e7eb"></button>
          <button class="h-5 w-5 rounded-full border border-neutral-700" style="background:#ef4444"></button>
        </div>
        <div class="flex gap-2">
          <button data-add='{"id":"strap_blackout","title":"Blackout Strap","price":24.99}' class="flex-1 px-3 py-2 rounded-lg bg-pink-600 hover:bg-pink-500 text-white text-sm shine">Add to cart</button>
          <button class="px-3 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700 text-sm">Quick view</button>
        </div>
      </div>
    </div>

    <!-- Product card 2 -->
    <div class="min-w-[280px] max-w-[280px] bg-neutral-900/60 border border-neutral-800 rounded-2xl card">
      <div class="relative aspect-square overflow-hidden rounded-t-2xl">
        <img src="https://imagedelivery.net/fYqzQPf1CS3qAF1vZpfSLw/aa6b56fa-d749-4e4e-886c-05e07dca1a00/public"
             alt="SnapInk Bundle Placeholder"
             class="w-full h-full object-cover"
             loading="lazy">
        <span class="absolute top-3 left-3 px-2 py-0.5 rounded bg-neutral-900/90 border border-neutral-700 text-[11px] font-bold">FUTURE DROPS</span>
      </div>
      <div class="p-4 space-y-3">
        <div class="flex items-center justify-between">
          <h3 class="font-semibold">Whiteout Strap</h3>
          <span class="text-sm text-neutral-300">$24.99</span>
        </div>
        <div class="flex items-center gap-2" aria-label="Colorways">
          <button class="h-5 w-5 rounded-full border border-neutral-700 aria-selected:ring-2 aria-selected:ring-pink-500" style="background:#e5e7eb" aria-selected="true"></button>
          <button class="h-5 w-5 rounded-full border border-neutral-700" style="background:#111"></button>
          <button class="h-5 w-5 rounded-full border border-neutral-700" style="background:#ef4444"></button>
        </div>
        <div class="flex gap-2">
          <button data-add='{"id":"strap_whiteout","title":"Whiteout Strap","price":24.99}' class="flex-1 px-3 py-2 rounded-lg bg-pink-600 hover:bg-pink-500 text-white text-sm shine">Add to cart</button>
          <button class="px-3 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700 text-sm">Quick view</button>
        </div>
      </div>
    </div>

    <!-- Product card 3 -->
    <div class="min-w-[280px] max-w-[280px] bg-neutral-900/60 border border-neutral-800 rounded-2xl card">
      <div class="relative aspect-square overflow-hidden rounded-t-2xl">
        <img src="https://imagedelivery.net/fYqzQPf1CS3qAF1vZpfSLw/f2acf289-77e8-4f7f-7e00-dc10253a9100/public"
             alt="SnapInk Limited Placeholder"
             class="w-full h-full object-cover"
             loading="lazy">
        <span class="absolute top-3 left-3 px-2 py-0.5 rounded bg-pink-600 text-[11px] font-bold">LIMITED COLLABS</span>
      </div>
      <div class="p-4 space-y-3">
        <div class="flex items-center justify-between">
          <h3 class="font-semibold">Collab Strap</h3>
          <span class="text-sm text-neutral-300">$69.99</span>
        </div>
        <p class="text-xs text-neutral-400">Your logo on the strap. Small-run creator edition.</p>
        <div class="flex gap-2">
          <button data-add='{"id":"strap_collab","title":"Collab Strap","price":59.99}' class="flex-1 px-3 py-2 rounded-lg bg-pink-600 hover:bg-pink-500 text-white text-sm shine">Add to cart</button>
          <button class="px-3 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700 text-sm">Quick view</button>
        </div>
      </div>
    </div>

    <!-- Product card 4 -->
    <div class="min-w-[280px] max-w-[280px] bg-neutral-900/60 border border-neutral-800 rounded-2xl card">
      <div class="relative aspect-square overflow-hidden rounded-t-2xl">
        <img src="https://imagedelivery.net/fYqzQPf1CS3qAF1vZpfSLw/27c393b3-19b1-48a7-1f74-d302126a3a00/public"
             alt="SnapInk Special Edition"
             class="w-full h-full object-cover"
             loading="lazy">
        <span class="absolute top-3 left-3 px-2 py-0.5 rounded bg-pink-600 text-[11px] font-bold">SNAPINK™</span>
      </div>
      <div class="p-4 space-y-3">
        <div class="flex items-center justify-between">
          <h3 class="font-semibold">Special Edition Strap</h3>
          <span class="text-sm text-neutral-300">$29.99</span>
        </div>
        <p class="text-xs text-neutral-400">Fresh drop with unique detailing.</p>
        <div class="flex gap-2">
          <button data-add='{"id":"strap_special","title":"Special Edition Strap","price":29.99}' class="flex-1 px-3 py-2 rounded-lg bg-pink-600 hover:bg-pink-500 text-white text-sm shine">Add to cart</button>
          <button class="px-3 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700 text-sm">Quick view</button>
        </div>
      </div>
    </div>

    <!-- Product card 5 -->
    <div class="min-w-[280px] max-w-[280px] bg-neutral-900/60 border border-neutral-800 rounded-2xl card">
      <div class="relative aspect-square overflow-hidden rounded-t-2xl">
        <img src="https://imagedelivery.net/fYqzQPf1CS3qAF1vZpfSLw/ed571e4f-0ed7-47b6-417a-958e9b3be000/public"
             alt="SnapInk Personalize"
             class="w-full h-full object-cover"
             loading="lazy">
        <span class="absolute top-3 left-3 px-2 py-0.5 rounded bg-pink-600 text-[11px] font-bold">Personalize</span>
      </div>
      <div class="p-4 space-y-3">
        <div class="flex items-center justify-between">
          <h3 class="font-semibold">Custom Strap</h3>
          <span class="text-sm text-neutral-300">$39.99</span>
        </div>
        <p class="text-xs text-neutral-400">Add your name, brand, or logo.</p>
        <div class="flex gap-2">
          <button data-add='{"id":"strap_personalize","title":"Custom Strap","price":39.99}' class="flex-1 px-3 py-2 rounded-lg bg-pink-600 hover:bg-pink-500 text-white text-sm shine">Add to cart</button>
          <button class="px-3 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700 text-sm">Quick view</button>
        </div>
      </div>
    </div>

    <!-- Product card 6 -->
    <div class="min-w-[280px] max-w-[280px] bg-neutral-900/60 border border-neutral-800 rounded-2xl card">
      <div class="relative aspect-square overflow-hidden rounded-t-2xl">
        <img src="https://imagedelivery.net/fYqzQPf1CS3qAF1vZpfSLw/43917d9d-64d3-4abd-f448-a5cf764ac300/public"
             alt="SnapInk Limited Drops"
             class="w-full h-full object-cover"
             loading="lazy">
        <span class="absolute top-3 left-3 px-2 py-0.5 rounded bg-pink-600 text-[11px] font-bold">Limited Drops</span>
      </div>
      <div class="p-4 space-y-3">
        <div class="flex items-center justify-between">
          <h3 class="font-semibold">Exclusive Strap</h3>
          <span class="text-sm text-neutral-300">$49.99</span>
        </div>
        <p class="text-xs text-neutral-400">Rare releases in small batches.</p>
        <div class="flex gap-2">
          <button data-add='{"id":"strap_limited","title":"Exclusive Strap","price":49.99}' class="flex-1 px-3 py-2 rounded-lg bg-pink-600 hover:bg-pink-500 text-white text-sm shine">Add to cart</button>
          <button class="px-3 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700 text-sm">Quick view</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Left arrow -->
  <button onclick="scrollCarousel(-1)" 
          class="hidden md:flex absolute left-0 top-1/2 -translate-y-1/2 p-3 rounded-full bg-black/60 hover:bg-black/80 text-white z-10">
    ◀
  </button>

  <!-- Right arrow -->
  <button onclick="scrollCarousel(1)" 
          class="hidden md:flex absolute right-0 top-1/2 -translate-y-1/2 p-3 rounded-full bg-black/60 hover:bg-black/80 text-white z-10">
    ▶
  </button>
</div>

<script>
function scrollCarousel(dir) {
  const el = document.getElementById('carousel');
  if (!el) return;
  const card = el.querySelector('div');
  const cardWidth = card?.offsetWidth || 280;
  el.scrollBy({ left: dir * (cardWidth + 16), behavior: 'smooth' });
}
</script>
  <!-- USP row -->
      <div class="grid md:grid-cols-3 gap-4 mt-10">
        <div class="bg-neutral-900/60 border border-neutral-800 rounded-xl p-4 flex items-center gap-3"><span>🚚</span><div><div class="font-semibold">Fast shipping</div><div class="text-xs text-neutral-400">2–4 days US</div></div></div>
        <div class="bg-neutral-900/60 border border-neutral-800 rounded-xl p-4 flex items-center gap-3"><span>🛡️</span><div><div class="font-semibold">30‑day guarantee</div><div class="text-xs text-neutral-400">Free exchanges</div></div></div>
        <div class="bg-neutral-900/60 border border-neutral-800 rounded-xl p-4 flex items-center gap-3"><span>✨</span><div><div class="font-semibold">Creator-ready</div><div class="text-xs text-neutral-400">Print, emboss, foil</div></div></div>
      </div>
    </div>
  </section>

  <!-- HOW IT WORKS -->
  <section id="how" class="py-16 md:py-24 border-y border-neutral-800 bg-neutral-950 relative overflow-hidden">
    <div class="absolute inset-0 noise"></div>
    <div class="max-w-7xl mx-auto px-4 relative">
      <h2 class="text-3xl md:text-4xl font-black mb-8">How it works</h2>
      <div class="grid md:grid-cols-3 gap-6">
        <div class="p-6 rounded-2xl bg-neutral-900/50 border border-neutral-800">
          <div class="text-4xl">①</div>
          <h3 class="mt-2 text-xl font-semibold">Slide the sleeve</h3>
          <p class="mt-2 text-neutral-400">Semi‑rigid TPU sleeve covers the traditional snaps for a clean silhouette.</p>
        </div>
        <div class="p-6 rounded-2xl bg-neutral-900/50 border border-neutral-800">
          <div class="text-4xl">②</div>
          <h3 class="mt-2 text-xl font-semibold">Snap as usual</h3>
          <p class="mt-2 text-neutral-400">Hidden inner holes align with snap pegs so the hat fastens normally.</p>
        </div>
        <div class="p-6 rounded-2xl bg-neutral-900/50 border border-neutral-800">
          <div class="text-4xl">③</div>
          <h3 class="mt-2 text-xl font-semibold">Brand the strap</h3>
          <p class="mt-2 text-neutral-400">Print, emboss or foil — the strap becomes prime branding real estate.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- REVIEWS -->
  <section id="reviews" class="py-16 md:py-24 bg-black">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex items-end justify-between mb-6">
        <h2 class="text-3xl md:text-4xl font-black">What people say</h2>
        <div class="text-sm text-neutral-400">4.9 ★ average (120+)</div>
      </div>

      <div class="marquee">
        <div class="marquee__track">
          <figure class="min-w-[320px] max-w-[320px] bg-neutral-900/60 border border-neutral-800 rounded-2xl p-5">
            <figcaption class="font-semibold">“The strap steals the show.”</figcaption>
            <p class="mt-2 text-neutral-400 text-sm">Finally a snapback where the strap is the canvas.
            </p><div class="mt-3 text-xs text-neutral-500">— Jay • Creator</div>
          </figure>
          <figure class="min-w-[320px] max-w-[320px] bg-neutral-900/60 border border-neutral-800 rounded-2xl p-5">
            <figcaption class="font-semibold">“Premium look, easy swap.”</figcaption>
            <p class="mt-2 text-neutral-400 text-sm">Sleeves snap on in seconds. Feels locked.</p>
            <div class="mt-3 text-xs text-neutral-500">— Mara • Sneakerhead</div>
          </figure>
          <figure class="min-w-[320px] max-w-[320px] bg-neutral-900/60 border border-neutral-800 rounded-2xl p-5">
            <figcaption class="font-semibold">“Collabs will go crazy.”</figcaption>
            <p class="mt-2 text-neutral-400 text-sm">The strap is the new billboard. Take my money.</p>
            <div class="mt-3 text-xs text-neutral-500">— Eli • Brand lead</div>
          </figure>
          <!-- clones -->
          <figure class="min-w-[320px] max-w-[320px] bg-neutral-900/60 border border-neutral-800 rounded-2xl p-5">
            <figcaption class="font-semibold">“The strap steals the show.”</figcaption>
            <p class="mt-2 text-neutral-400 text-sm">Finally a snapback where the strap is the canvas.</p>
            <div class="mt-3 text-xs text-neutral-500">— Jay • Creator</div>
          </figure>
          <figure class="min-w-[320px] max-w-[320px] bg-neutral-900/60 border border-neutral-800 rounded-2xl p-5">
            <figcaption class="font-semibold">“Premium look, easy swap.”</figcaption>
            <p class="mt-2 text-neutral-400 text-sm">Sleeves snap on in seconds. Feels locked.</p>
            <div class="mt-3 text-xs text-neutral-500">— Mara • Sneakerhead</div>
          </figure>
        </div>
      </div>
    </div>
  </section>

  <!-- WAITLIST / EMAIL CAPTURE -->
  <section id="waitlist" class="py-16 md:py-24 border-y border-neutral-800 bg-neutral-950">
    <div class="max-w-2xl mx-auto px-4 text-center">
      <h2 class="text-3xl md:text-4xl font-black">Get first dibs on Drop 001</h2>
      <p class="mt-3 text-neutral-400">We’ll email you 24 hours before the drop goes live.</p>
      <form id="wl" class="mt-8 flex flex-col sm:flex-row gap-3 justify-center">
        <input type="email" required placeholder="your@email.com" class="w-full sm:w-96 px-4 py-3 rounded-xl bg-neutral-900 border border-neutral-700 focus:outline-none focus:ring-2 focus:ring-pink-600" />
        <button class="px-5 py-3 rounded-xl bg-pink-600 hover:bg-pink-500 text-white font-semibold shine">Join Waitlist</button>
      </form>
      <p class="mt-3 text-xs text-neutral-500">We’ll never sell your data. Unsubscribe anytime.</p>
      <p class="mt-6 text-sm text-neutral-400">Wholesale / collab: <a href="mailto:hello@snapinkhats.com" class="underline hover:text-white">hello@snapinkhats.com</a></p>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="py-16 md:py-24 bg-black">
    <div class="max-w-5xl mx-auto px-4">
      <h2 class="text-3xl md:text-4xl font-black mb-8">FAQ</h2>
      <div class="grid md:grid-cols-2 gap-4">
        <details class="group rounded-2xl border border-neutral-800 p-5 bg-neutral-900/40">
          <summary class="cursor-pointer font-semibold flex items-center justify-between select-none">What is a SnapInk™ strap sleeve?<svg class="caret w-4 h-4 text-neutral-400 transition" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 9l6 6 6-6"/></svg></summary>
          <p class="mt-3 text-neutral-400">A semi-rigid, print-ready cover that slides over a standard snapback strap, hides the pegs, and turns the strap into a clean branding surface.</p>
        </details>
        <details class="group rounded-2xl border border-neutral-800 p-5 bg-neutral-900/40">
          <summary class="cursor-pointer font-semibold flex items-center justify-between select-none">Will it fit my hat?<svg class="caret w-4 h-4 text-neutral-400 transition" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 9l6 6 6-6"/></svg></summary>
          <p class="mt-3 text-neutral-400">V1 sleeves target common snap spacing (~7 mm CTC). We’ll publish a fit guide and multiple sizes.</p>
        </details>
        <details class="group rounded-2xl border border-neutral-800 p-5 bg-neutral-900/40">
          <summary class="cursor-pointer font-semibold flex items-center justify-between select-none">Can I print my logo on it?<svg class="caret w-4 h-4 text-neutral-400 transition" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 9l6 6 6-6"/></svg></summary>
          <p class="mt-3 text-neutral-400">Yes. The exterior is engineered for UV/pad printing, emboss, or foil.</p>
        </details>
        <details class="group rounded-2xl border border-neutral-800 p-5 bg-neutral-900/40">
          <summary class="cursor-pointer font-semibold flex items-center justify-between select-none">When does Drop 001 ship?<svg class="caret w-4 h-4 text-neutral-400 transition" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 9l6 6 6-6"/></svg></summary>
          <p class="mt-3 text-neutral-400">We’ll announce the date to the waitlist first. Wear-tests are ongoing.</p>
        </details>
      </div>
    </div>
  </section>

  <!-- Sticky CTA -->
  <div class="sticky bottom-3 z-40 max-w-7xl mx-auto px-4">
    <div class="sticky-cta bg-neutral-900/80 border border-neutral-800 rounded-2xl shadow-2xl p-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <span class="h-8 w-8 grid place-items-center rounded-full bg-pink-600 text-white font-black">S</span>
        <div class="text-sm"><span class="font-semibold">Drop 001:</span> early access for waitlist only</div>
      </div>
      <a href="#waitlist" class="px-4 py-2 rounded-xl bg-pink-600 hover:bg-pink-500 text-white text-sm font-semibold pulse-glow">Join waitlist</a>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="mt-16 py-10 bg-neutral-950 border-t border-neutral-800">
    <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-3 gap-6 text-sm">
      <div>
        <div class="flex items-center gap-2 mb-2"><span class="inline-flex h-8 w-8 items-center justify-center rounded-lg bg-pink-600 text-white font-black">S</span><span class="font-black tracking-widest">SNAPINK<span class="align-super text-[0.6em]">™</span></span></div>
        <p class="text-neutral-400">Branding on Lock.</p>
      </div>
      <div class="text-neutral-400">
        <div class="font-semibold text-neutral-200 mb-2">Support</div>
        <ul class="space-y-1">
          <li><a class="hover:text-white" href="#faq">FAQ</a></li>
          <li><a class="hover:text-white" href="mailto:support@swiftsaleapp.com">support@swiftsaleapp.com</a></li>
          <li><a class="hover:text-white" href="#">Shipping & Returns</a></li>
        </ul>
      </div>
      <div class="text-neutral-400">
        <div class="font-semibold text-neutral-200 mb-2">Follow</div>
        <ul class="space-y-1">
          <li><a class="hover:text-white" href="#">Instagram</a></li>
          <li><a class="hover:text-white" href="#">TikTok</a></li>
          <li><a class="hover:text-white" href="#">X</a></li>
        </ul>
      </div>
    </div>
    <div class="max-w-7xl mx-auto px-4 mt-6 text-neutral-500 text-xs flex items-center justify-between">
      <p>© <span id="year"></span> SnapInk Hats. All rights reserved.</p>
      <a href="#" class="hover:text-neutral-300">Terms & Privacy</a>
    </div>
  </footer>

  <!-- CART DRAWER -->
  <aside id="cart" class="fixed top-0 right-0 h-full w-[92vw] max-w-[420px] bg-neutral-950 border-l border-neutral-800 shadow-2xl translate-x-full transition-transform duration-300 z-[60] flex flex-col">
    <div class="p-4 border-b border-neutral-800 flex items-center justify-between">
      <h3 class="font-semibold">Your cart</h3>
      <button id="cartClose" class="p-2 rounded-lg hover:bg-neutral-800" aria-label="Close cart">✕</button>
    </div>
    <div id="cartItems" class="flex-1 overflow-auto p-4 space-y-3"></div>
    <div class="border-t border-neutral-800 p-4">
      <div class="flex items-center justify-between mb-3"><span class="text-sm text-neutral-400">Subtotal</span><span id="cartSubtotal" class="font-semibold">$0.00</span></div>
      <button id="cartCheckout" class="w-full px-4 py-3 rounded-xl bg-pink-600 hover:bg-pink-500 text-white font-semibold">Checkout</button>
      <p class="mt-2 text-xs text-neutral-500">Taxes and shipping calculated at checkout.</p>
    </div>
  </aside>
  <div id="cartScrim" class="fixed inset-0 bg-black/50 opacity-0 pointer-events-none transition-opacity z-[50]"></div>

<!-- SCRIPTS -->
<script>
const prelaunchMode = true; // 👈 flip this true/false to control mode

// Year
document.getElementById('year').textContent = new Date().getFullYear();

// Countdown (always runs — teaser stays on both modes)
const target = new Date();
target.setDate(target.getDate() + 14); 
const dd = document.getElementById('dd'),
      hh = document.getElementById('hh'),
      mm = document.getElementById('mm'),
      ss = document.getElementById('ss');
setInterval(() => {
  const now = new Date();
  const diff = Math.max(0, target - now);
  const d = Math.floor(diff / (1000*60*60*24));
  const h = Math.floor((diff / (1000*60*60)) % 24);
  const m = Math.floor((diff / (1000*60)) % 60);
  const s = Math.floor((diff / 1000) % 60);
  dd.textContent = String(d).padStart(2,'0');
  hh.textContent = String(h).padStart(2,'0');
  mm.textContent = String(m).padStart(2,'0');
  ss.textContent = String(s).padStart(2,'0');
}, 1000);

// Waitlist form handler (works in both modes)
const wl = document.getElementById('wl');
if (wl) wl.addEventListener('submit', (e)=>{
  e.preventDefault();
  const email = wl.querySelector('input[type="email"]').value.trim();
  if (!email) return;
  localStorage.setItem('snapink_waitlist', email);
  wl.reset();
  alert("You're on the list. We’ll email you before Drop 001.");
});

if (prelaunchMode) {
  // ======== PRE-LAUNCH MODE ========
  document.addEventListener("DOMContentLoaded", () => {
    // 1) Replace every [data-add] button with a "Join waitlist" link
    document.querySelectorAll("[data-add]").forEach(btn => {
      const a = document.createElement("a");
      a.href = "#waitlist";
      a.className = btn.className + " text-center";
      a.textContent = "Join waitlist";
      btn.replaceWith(a);
    });

   // 2) Turn any checkout buttons into waitlist links (except header one)
["#cartCheckout", "#mobileCheckout"].forEach(sel => {
  const el = document.querySelector(sel);
  if (!el) return;
  const a = document.createElement("a");
  a.href = "#waitlist";
  a.className = el.className + " text-center";
  a.textContent = "Join waitlist";
  el.replaceWith(a);
});


    // 3) Hide cart icon / mini-cart entry points
    const cartArea = document.getElementById("cartArea");
    if (cartArea) cartArea.style.display = "none";
  });

} else {
  // ======== FULL STORE MODE ========
  // 👇 Everything you pasted goes here unchanged.
  // ---------- Mini cart (client-only demo) ----------
  const cartBtn = document.getElementById('cartBtn');
  const cart = document.getElementById('cart');
  const cartScrim = document.getElementById('cartScrim');
  const cartClose = document.getElementById('cartClose');
  const cartItems = document.getElementById('cartItems');
  const cartCount = document.getElementById('cartCount');
  const cartSubtotal = document.getElementById('cartSubtotal');

  const cartCheckoutBtn = document.getElementById('cartCheckout');
  const checkoutLink = document.getElementById('checkoutLink');
  const mobileCheckout = document.getElementById('mobileCheckout');
  const mobileCartCount = document.getElementById('mobileCartCount');

  const menuBtn = document.getElementById('menuBtn');
  const mobileNav = document.getElementById('mobileNav');
  const mobileScrim = document.getElementById('mobileScrim');
  const mobileClose = document.getElementById('mobileClose');

  let items = [];

  function openCart(){
    cart.classList.remove('translate-x-full');
    cartScrim.classList.remove('pointer-events-none');
    cartScrim.classList.add('opacity-100');
  }
  function closeCart(){
    cart.classList.add('translate-x-full');
    cartScrim.classList.add('pointer-events-none');
    cartScrim.classList.remove('opacity-100');
  }

  function money(n){ return `$${n.toFixed(2)}` }

  function setBadges(){
    const n = items.reduce((a,b)=>a+(b.qty||0),0);
    if (cartCount) cartCount.textContent = n || 0;
    if (mobileCartCount) mobileCartCount.textContent = n || 0;
  }

  function renderCart(){
    cartItems.innerHTML = items.length ? '' : '<p class="text-neutral-400 text-sm">Your cart is empty.</p>';
    let subtotal = 0;
    items.forEach((it, idx)=>{
      subtotal += it.price * it.qty;
      const row = document.createElement('div');
      row.className = 'flex items-center gap-3 border border-neutral-800 rounded-xl p-3 bg-neutral-900/50';
      row.innerHTML = `
        <div class="h-16 w-16 rounded-lg bg-neutral-800"></div>
        <div class="flex-1">
          <div class="flex items-center justify-between">
            <div class="font-semibold">${it.title}</div>
            <button aria-label="Remove" class="text-neutral-400 hover:text-white" data-remove="${idx}">×</button>
          </div>
          <div class="text-sm text-neutral-400">Qty ${it.qty}</div>
        </div>
        <div class="font-semibold">${money(it.price * it.qty)}</div>`;
      cartItems.appendChild(row);
    });
    if (cartCount) cartCount.textContent = items.reduce((a,b)=>a+b.qty,0);
    if (cartSubtotal) cartSubtotal.textContent = money(subtotal);
    localStorage.setItem('snapink_cart', JSON.stringify(items));
    setBadges();
  }

  function addToCart(data){
    const found = items.find(i => i.id === data.id);
    if (found) found.qty += 1; else items.push({ ...data, qty: 1 });
    renderCart();
    openCart();
  }

  document.addEventListener('click', (e)=>{
    const add = e.target.closest('[data-add]');
    if (add){ addToCart(JSON.parse(add.dataset.add)); }
    const rm = e.target.closest('[data-remove]');
    if (rm){ items.splice(parseInt(rm.dataset.remove,10),1); renderCart(); }
  });

  cartBtn?.addEventListener('click', openCart);
  cartClose?.addEventListener('click', closeCart);
  cartScrim?.addEventListener('click', closeCart);

  try{ items = JSON.parse(localStorage.getItem('snapink_cart')||'[]') || []; }catch{ items = []; }
  renderCart();

  window.addEventListener('storage', (e)=>{
    if (e.key === 'snapink_cart') {
      try { items = JSON.parse(localStorage.getItem('snapink_cart')||'[]') || []; } catch { }
      renderCart();
    }
  });

  async function startCheckout() {
    const payload = items.map(it => ({ sku: it.id || it.sku, qty: it.qty || 1 }));
    if (!payload.length) return alert('Cart is empty');
    try {
      const r = await fetch('/checkout/create-session', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify({ items: payload })
      });
      const data = await r.json();
      if (!data.ok || !data.url) throw new Error(data.error || 'Checkout error');
      location.href = data.url;
    } catch (err) {
      alert(err.message || 'Could not start checkout.');
    }
  }

  checkoutLink?.addEventListener('click', startCheckout);
  cartCheckoutBtn?.addEventListener('click', startCheckout);
  mobileCheckout?.addEventListener('click', startCheckout);

  function lockScroll(lock){ document.documentElement.style.overflow = lock ? 'hidden' : ''; }
  function openMenu(){
    mobileNav.classList.remove('translate-x-[-100%]');
    mobileScrim.classList.remove('pointer-events-none');
    mobileScrim.classList.add('opacity-100');
    lockScroll(true);
    menuBtn?.setAttribute('aria-expanded','true');
    setTimeout(()=>mobileClose?.focus(), 50);
  }
  function closeMenu(){
    mobileNav.classList.add('translate-x-[-100%]');
    mobileScrim.classList.add('pointer-events-none');
    mobileScrim.classList.remove('opacity-100');
    lockScroll(false);
    menuBtn?.setAttribute('aria-expanded','false');
    menuBtn?.focus();
  }

  if (menuBtn && mobileNav && mobileScrim && mobileClose) {
    menuBtn.addEventListener('click', openMenu);
    mobileClose.addEventListener('click', closeMenu);
    mobileScrim.addEventListener('click', closeMenu);
    window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeMenu(); });
  }

  // ===== Mini-cart (hover preview) =====
  const cartArea = document.getElementById('cartArea');
  const miniCart = document.getElementById('miniCart');
  const miniItems = document.getElementById('miniItems');
  const miniSubtotal = document.getElementById('miniSubtotal');
  const miniCount = document.getElementById('miniCount');
  const miniCountPlural = document.getElementById('miniCountPlural');
  const miniViewCart = document.getElementById('miniViewCart');
  const miniCheckout = document.getElementById('miniCheckout');

  let miniHoverTimer;

  function showMiniCart() {
    if (!miniCart) return;
    miniCart.classList.remove('pointer-events-none','opacity-0','scale-95');
    miniCart.classList.add('opacity-100','scale-100');
  }
  function hideMiniCart() {
    if (!miniCart) return;
    miniCart.classList.add('pointer-events-none','opacity-0','scale-95');
    miniCart.classList.remove('opacity-100','scale-100');
  }

  function renderMiniCart() {
    if (!miniItems) return;
    miniItems.innerHTML = '';
    let subtotal = 0;
    const LIM = 3;
    items.forEach((it, idx) => {
      subtotal += it.price * it.qty;
      if (idx >= LIM) return;
      const row = document.createElement('div');
      row.className = 'p-3 flex items-center gap-3 bg-neutral-900/30';
      const imgHTML = it.image
        ? `<img src="${it.image}" alt="" class="h-12 w-12 rounded-lg object-cover">`
        : `<div class="h-12 w-12 rounded-lg bg-neutral-800"></div>`;
      row.innerHTML = `
        ${imgHTML}
        <div class="flex-1 min-w-0">
          <div class="flex items-center justify-between gap-2">
            <div class="font-medium truncate">${it.title}</div>
            <div class="text-sm text-neutral-300">${money(it.price * it.qty)}</div>
          </div>
          <div class="text-xs text-neutral-400">Qty ${it.qty}</div>
        </div>`;
      miniItems.appendChild(row);
    });
    if (items.length > LIM) {
      const more = document.createElement('div');
      more.className = 'p-2 text-center text-xs text-neutral-400';
      more.textContent = `+ ${items.length - LIM} more in cart`;
      miniItems.appendChild(more);
    }
    miniSubtotal.textContent = money(subtotal);
    const count = items.reduce((a,b)=>a+(b.qty||0),0);
    miniCount.textContent = count;
    miniCountPlural.style.display = (count === 1) ? 'none' : '';
  }

  const _renderCart_orig = window.renderCart;
  window.renderCart = function() {
    _renderCart_orig();
    renderMiniCart();
  };
  renderMiniCart();

  function enterMiniSoon(){ clearTimeout(miniHoverTimer); miniHoverTimer = setTimeout(showMiniCart, 60); }
  function leaveMiniSoon(){ clearTimeout(miniHoverTimer); miniHoverTimer = setTimeout(hideMiniCart, 120); }
  cartArea?.addEventListener('mouseenter', enterMiniSoon);
  cartArea?.addEventListener('mouseleave', leaveMiniSoon);
  document.getElementById('cartBtn')?.addEventListener('focus', showMiniCart);
  window.addEventListener('keydown', (e)=>{ if (e.key === 'Escape') hideMiniCart(); });

  document.addEventListener('click', (e)=>{
    if (!miniCart) return;
    if (!miniCart.contains(e.target) && !cartArea.contains(e.target)) hideMiniCart();
  });

  miniViewCart?.addEventListener('click', () => { hideMiniCart(); openCart(); });
  miniCheckout?.addEventListener('click', async () => { hideMiniCart(); await (window.startCheckout ? startCheckout() : null); });
}
</script>

<script>
  (function(){
    const modal = document.getElementById('fitGuideModal');
    const openBtns = [document.getElementById('fitGuideBtn'), document.getElementById('fitGuideBtnMobile')].filter(Boolean);
    const closeBtn = document.getElementById('fitGuideClose');
    if (!modal || openBtns.length === 0) return; // ← guard

    function openModal(){
      modal.classList.remove('opacity-0','pointer-events-none');
      modal.classList.add('opacity-100');
      document.documentElement.style.overflow = 'hidden';
    }
    function closeModal(){
      modal.classList.add('opacity-0','pointer-events-none');
      modal.classList.remove('opacity-100');
      document.documentElement.style.overflow = '';
    }

    openBtns.forEach(b => b.addEventListener('click', openModal));
    closeBtn?.addEventListener('click', closeModal);
    modal.addEventListener('click', (e)=>{ if (e.target === modal) closeModal(); });
    window.addEventListener('keydown', (e)=>{ if (e.key === 'Escape') closeModal(); });
  })();
</script>

<!-- Fit Guide Modal (global) -->
<div id="fitGuideModal"
     class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center
            opacity-0 pointer-events-none transition-opacity duration-200 z-[100]">
  <div class="bg-neutral-950 border border-neutral-800 rounded-2xl max-w-2xl w-full mx-4 p-6 relative">
    <button id="fitGuideClose" class="absolute top-3 right-3 text-neutral-400 hover:text-white text-xl" aria-label="Close">✕</button>

    <h2 class="text-2xl font-black mb-4">SnapInk™ Fit Guide</h2>
    <p class="text-neutral-400 mb-6">
      Our sleeves fit <span class="text-white font-semibold">all standard snapback hats</span>.
      If your hat uses a <span class="text-white">Yupoong / Flexfit strap</span> (industry standard),
      SnapInk™ will fit. That includes New Era, Richardson, Otto, Decky, and most streetwear blanks.
      They do <span class="text-pink-500 font-semibold">not</span> fit fitteds, strapbacks, or Velcro hats.
    </p>

    <div class="grid md:grid-cols-3 gap-6 text-left">
      <div class="p-4 rounded-xl bg-neutral-900/60 border border-neutral-800">
        <h3 class="font-semibold text-white mb-2">✅ Compatible</h3>
        <ul class="space-y-1 text-neutral-400 text-sm">
          <li>Yupoong / Flexfit</li><li>New Era 9FIFTY</li><li>Richardson</li>
          <li>Otto Cap</li><li>Decky</li><li>Adidas/Nike/Champion snapbacks</li>
        </ul>
      </div>
      <div class="p-4 rounded-xl bg-neutral-900/60 border border-neutral-800">
        <h3 class="font-semibold text-yellow-400 mb-2">⚠️ Might Not Fit</h3>
        <ul class="space-y-1 text-neutral-400 text-sm">
          <li>Cheap fast-fashion hats</li><li>Vintage 80s/90s snapbacks</li><li>Youth sizes</li>
        </ul>
      </div>
      <div class="p-4 rounded-xl bg-neutral-900/60 border border-neutral-800">
        <h3 class="font-semibold text-pink-500 mb-2">❌ Not Compatible</h3>
        <ul class="space-y-1 text-neutral-400 text-sm">
          <li>Fitted hats</li><li>Strapbacks (buckle)</li><li>Velcro backs</li><li>Elastic band truckers</li>
        </ul>
      </div>
    </div>
  </div>
</div>

</body>
</html>
